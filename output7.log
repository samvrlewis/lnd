2017-09-13 20:19:18.705 [WRN] LTND: read /tmp/lndtest-data594014217: is a directory
2017-09-13 20:19:18.705 [INF] LTND: Version 0.3.0-alpha
2017-09-13 20:19:18.706 [INF] CHDB: Checking for schema update: latest_version=0, db_version=0
2017-09-13 20:19:18.706 [INF] LTND: Primary chain is set to: bitcoin
2017-09-13 20:19:22.568 [INF] LNWL: Opened wallet
2017-09-13 20:19:23.942 [INF] LNWL: The wallet has been unlocked without a time limit
2017-09-13 20:19:23.943 [INF] LTND: LightningWallet opened
2017-09-13 20:19:23.944 [INF] LNWL: Catching up block hashes to height 421, this will take a while...
2017-09-13 20:19:23.944 [INF] RPCS: Generating TLS certificates...
2017-09-13 20:19:24.016 [INF] LNWL: Done catching up block hashes
2017-09-13 20:19:24.017 [INF] LNWL: Started rescan from block 507ac640c3633de675b51a5a3cd025fbc940fd2d93b3f22fbae1b536ed51d806 (height 421) for 0 addresses
2017-09-13 20:19:24.018 [INF] LNWL: Finished rescan for 0 addresses (synced to block 507ac640c3633de675b51a5a3cd025fbc940fd2d93b3f22fbae1b536ed51d806, height 421)
2017-09-13 20:19:24.018 [INF] LNWL: Catching up block hashes to height 421, this might take a while
2017-09-13 20:19:24.018 [INF] LNWL: Done catching up block hashes
2017-09-13 20:19:38.200 [INF] RPCS: Done generating TLS certificates
2017-09-13 20:19:38.202 [INF] RPCS: RPC server listening on 127.0.0.1:19570
2017-09-13 20:19:38.202 [ERR] LTND: gRPC proxy unable to listen on localhost:8080
2017-09-13 20:19:38.277 [INF] HSWC: Starting HTLC Switch
2017-09-13 20:19:38.277 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:38.278 [INF] DISC: Authenticated Gossiper is starting
2017-09-13 20:19:38.278 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:38.279 [INF] CRTR: FilteredChainView starting
2017-09-13 20:19:38.343 [INF] CRTR: Prune tip for Channel Graph: height=0, hash=<nil>
2017-09-13 20:19:38.343 [INF] CRTR: Filtering chain using 0 channels active
2017-09-13 20:19:38.344 [INF] SRVR: Auto peer bootstrapping is disabled
2017-09-13 20:19:38.344 [INF] CMGR: Server listening on [::]:19569
2017-09-13 20:19:38.346 [INF] SRVR: New inbound connection from 127.0.0.1:45320
2017-09-13 20:19:38.346 [INF] DISC: Syncing channel graph state with 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2, sending 1 vertexes and 0 edges
2017-09-13 20:19:38.346 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.369 [INF] FNDG: Recv'd fundingRequest(amt=0.01 BTC, push=0 mSAT, delay=4, pendingId=6cec5f63f90cc126ce5e2aa744aa6b23b4a950b1acbfd92ab8ac9106def5ac0e) from peer(030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2)
2017-09-13 20:19:38.372 [INF] FNDG: Requiring 1 confirmations for pendingChan(6cec5f63f90cc126ce5e2aa744aa6b23b4a950b1acbfd92ab8ac9106def5ac0e): amt=0.01 BTC, push_amt=0 mSAT
2017-09-13 20:19:38.372 [INF] FNDG: Sending fundingResp for pendingID(6cec5f63f90cc126ce5e2aa744aa6b23b4a950b1acbfd92ab8ac9106def5ac0e)
2017-09-13 20:19:38.372 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.375 [INF] FNDG: completing pendingID(6cec5f63f90cc126ce5e2aa744aa6b23b4a950b1acbfd92ab8ac9106def5ac0e) with ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0)
2017-09-13 20:19:38.378 [INF] FNDG: sending signComplete for pendingID(6cec5f63f90cc126ce5e2aa744aa6b23b4a950b1acbfd92ab8ac9106def5ac0e) over ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0)
2017-09-13 20:19:38.378 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.378 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:38.378 [INF] NTFN: New confirmations subscription: txid=ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044, numconfs=1
2017-09-13 20:19:38.378 [INF] NTFN: Attempting to trigger dispatch for ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044 from historical chain
2017-09-13 20:19:38.379 [INF] FNDG: Waiting for funding tx (ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044) to reach 1 confirmations
2017-09-13 20:19:38.385 [INF] CRTR: Pruning channel graph using block 6881cb1196c23e9e32f72ff71cfc359da076a96fbe6f93ede1292229a4eb90c0 (height=422)
2017-09-13 20:19:38.385 [INF] CRTR: Block 6881cb1196c23e9e32f72ff71cfc359da076a96fbe6f93ede1292229a4eb90c0 (height=422) closed 0 channels
2017-09-13 20:19:38.392 [INF] NTFN: New block: height=422, sha=6881cb1196c23e9e32f72ff71cfc359da076a96fbe6f93ede1292229a4eb90c0
2017-09-13 20:19:38.392 [INF] NTFN: Dispatching single conf notification, sha=ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044, height=422
2017-09-13 20:19:38.392 [INF] FNDG: ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) is now active: ChannelID(44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee)
2017-09-13 20:19:38.392 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.392 [INF] FNDG: Announcing ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0), short_chan_id=(*lnwire.ShortChannelID)(0xc42047c364)({
 BlockHeight: (uint32) 422,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
})

2017-09-13 20:19:38.393 [INF] DISC: Announcement for chan_id=(463993906987008), is premature: advertises height 422, only height 421 is known
2017-09-13 20:19:38.393 [INF] DISC: Re-processing 1 premature announcements for height 422
2017-09-13 20:19:38.396 [INF] CRTR: New channel discovered! Link connects 03059a59fd099979a05a889c58bb3724ea7768b03a6b5bdabc5c6b1c607e8953f5 and 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2 with ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0): chan_id=463993906987008, capacity=0.01 BTC
2017-09-13 20:19:38.397 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc4201bbf80)({
 Signature: (*btcec.Signature)(0xc4204832d0)({
  R: (*big.Int)(0xc420560d00)(44632512703493324177175141847249901421976102892416774105489431676626887970334),
  S: (*big.Int)(0xc420560d60)(13172743506071560375182857253455235804452477511782673139520186100289456838822)
 }),
 ChannelID: (uint64) 463993906987008,
 LastUpdate: (time.Time) 2017-09-13 20:19:38 +1000 AEST,
 Flags: (uint16) 0,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:38.398 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc420480dc0)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) 44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 422,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc4204832e0)({
  R: (*big.Int)(0xc420560de0)(101590917626267411264131776427471589559374170388850368081049911138761322995902),
  S: (*big.Int)(0xc420560e40)(10754861660979965279239813288342816153617170254112786985561793119751750689533)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc4204832f0)({
  R: (*big.Int)(0xc420561080)(19939626034010856062166913854590813505585765992907479267391434359302110194274),
  S: (*big.Int)(0xc4205610e0)(13542350228719401532047628652855728079327888135628828704219408982065309773622)
 })
})

2017-09-13 20:19:38.409 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.409 [INF] DISC: Sent channel announcement proof for short_chan_id=463993906987008 to remote peer: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.409 [INF] DISC: 1/2 of channel ann proof received for short_chan_id=463993906987008, waiting for other half
2017-09-13 20:19:38.410 [INF] CRTR: Updated vertex data for node=03059a59fd099979a05a889c58bb3724ea7768b03a6b5bdabc5c6b1c607e8953f5
2017-09-13 20:19:38.410 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc4201e70c0)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) 44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 422,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc4201b6980)({
  R: (*big.Int)(0xc4207a7d00)(68056200546374240112571063108371239799383576715565622692116666974350740938645),
  S: (*big.Int)(0xc4207a7d20)(45481775357886289910450426687772661736034090423579086189387288680378356705981)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc4201b6990)({
  R: (*big.Int)(0xc4207a7d40)(23711983492355637839494114620328424706985336980377365403689143887058592144321),
  S: (*big.Int)(0xc4207a7d60)(13942368417212546169164156151849416509358161481915508397245390419277399237273)
 })
})

2017-09-13 20:19:38.411 [INF] NTFN: Cancelling epoch notification, epoch_id=3
2017-09-13 20:19:38.411 [INF] NTFN: New spend subscription: utxo=ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0
2017-09-13 20:19:38.411 [INF] PEER: New channel active ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) with peerId(1)
2017-09-13 20:19:38.412 [INF] LNWL: Close observer for ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) active
2017-09-13 20:19:38.412 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:38.412 [INF] HSWC: ChannelLink(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) is starting
2017-09-13 20:19:38.412 [INF] HSWC: HTLC manager for ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) started, bandwidth=0 mSAT
2017-09-13 20:19:38.412 [INF] HSWC: Added channel link with chan_id=44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee, short_chan_id=((lnwire.ShortChannelID) {
 BlockHeight: (uint32) 422,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
}
), bandwidth=0 mSAT
2017-09-13 20:19:38.424 [INF] DISC: Fully valid channel proof for short_chan_id=463993906987008 constructed, adding to next ann batch
2017-09-13 20:19:38.519 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc4203109c0)({
 Signature: (*btcec.Signature)(0xc420047510)({
  R: (*big.Int)(0xc420549160)(57669226509294246485164859504976758921878925041104790880864395267199658414402),
  S: (*big.Int)(0xc420549180)(17890740825775574159598672172848033326968750821779760558330650942839254287758)
 }),
 ChannelID: (uint64) 463993906987008,
 LastUpdate: (time.Time) 2017-09-13 20:19:38 +1000 AEST,
 Flags: (uint16) 1,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:38.520 [INF] CRTR: Updated vertex data for node=030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:38.579 [INF] DISC: Broadcasting batch of 5 new announcements
2017-09-13 20:19:38.730 [INF] SRVR: New inbound connection from 127.0.0.1:45322
2017-09-13 20:19:38.731 [INF] DISC: Syncing channel graph state with 03678ca637909310e8848c4f3c0c79cf53d9b55ade75a453e912ea333f7a8ce5a5, sending 2 vertexes and 1 edges
2017-09-13 20:19:38.731 [INF] SRVR: Attempting to send msgs 5 to: 03678ca637909310e8848c4f3c0c79cf53d9b55ade75a453e912ea333f7a8ce5a5
2017-09-13 20:19:38.946 [INF] PEER: Delivery addr for channel close: sb1q6kfkq4ln4ms2055hjgmfqj6j5eg65hdhxh4yvg
2017-09-13 20:19:38.946 [INF] HSWC: Removing channel link with ChannelID(44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee)
2017-09-13 20:19:38.948 [INF] HSWC: ChannelLink(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) is stopping
2017-09-13 20:19:38.948 [INF] HSWC: ChannelLink(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) has exited
2017-09-13 20:19:38.948 [INF] NTFN: Cancelling epoch notification, epoch_id=4
2017-09-13 20:19:38.952 [INF] PEER: Broadcasting cooperative close tx: (*wire.MsgTx)(0xc420060bc0)({
 Version: (int32) 2,
 TxIn: ([]*wire.TxIn) (len=1 cap=15) {
  (*wire.TxIn)(0xc420311ec0)({
   PreviousOutPoint: (wire.OutPoint) ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0,
   SignatureScript: ([]uint8) <nil>,
   Witness: (wire.TxWitness) (len=4 cap=4) {
    ([]uint8) <nil>,
    ([]uint8) (len=71 cap=144) {
     00000000  30 44 02 20 7b 07 36 bd  62 b3 af 0f f8 36 aa db  |0D. {.6.b....6..|
     00000010  78 ad 78 0c ea 97 c3 f5  ea 4a 56 70 32 e8 cc 35  |x.x......JVp2..5|
     00000020  4b ce 32 63 02 20 3c f5  b8 54 08 ad dd 84 d5 e5  |K.2c. <..T......|
     00000030  ab 10 ef 01 f9 d2 ed f1  48 95 90 d9 6a 7f 29 8f  |........H...j.).|
     00000040  0c e7 92 80 09 08 01                              |.......|
    },
    ([]uint8) (len=72 cap=144) {
     00000000  30 45 02 21 00 89 1f 69  bd ca e2 82 17 d8 09 f3  |0E.!...i........|
     00000010  bf e7 aa aa e0 a4 98 98  ac b1 29 81 05 87 01 a9  |..........).....|
     00000020  b5 ed 11 30 62 02 20 1c  5b 37 aa 10 00 8f 96 62  |...0b. .[7.....b|
     00000030  62 dc 2e ec 24 bf fa 22  53 f8 43 94 33 ed f7 f0  |b...$.."S.C.3...|
     00000040  ad 31 a0 32 5e 8c 31 01                           |.1.2^.1.|
    },
    ([]uint8) (len=71 cap=500) {
     00000000  52 21 03 48 8b 98 d1 bc  88 89 6c 19 0f 4d 59 60  |R!.H......l..MY`|
     00000010  f2 b9 2d e4 45 d4 f0 c9  44 36 d9 11 77 dc d0 cb  |..-.E...D6..w...|
     00000020  cc eb 86 21 03 70 3a 16  14 7a da fa 88 2b e5 6f  |...!.p:..z...+.o|
     00000030  a7 a6 f3 41 c2 52 5b 17  54 ed 85 eb a2 47 6f 08  |...A.R[.T....Go.|
     00000040  a4 49 44 b7 75 52 ae                              |.ID.uR.|
    }
   },
   Sequence: (uint32) 4294967295
  })
 },
 TxOut: ([]*wire.TxOut) (len=1 cap=15) {
  (*wire.TxOut)(0xc42063e780)({
   Value: (int64) 982624,
   PkScript: ([]uint8) (len=22 cap=34) {
    00000000  00 14 f1 f2 bf 05 e5 5f  8c 6f 19 09 8c b3 2c 91  |......._.o....,.|
    00000010  40 78 60 1f 0b 16                                 |@x`...|
   }
  })
 },
 LockTime: (uint32) 0
})

2017-09-13 20:19:38.953 [INF] NTFN: Cancelling spend notification for out_point=ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0, spend_id=1
2017-09-13 20:19:38.957 [INF] PEER: channel close tx from ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0)  already exist, probably broadcasted by peer: -22: TX rejected: already have transaction 4398bd9920d40edac3a2221c327bc4a62c2038b823f6669031b2ff5ffd8aceee
2017-09-13 20:19:38.957 [INF] HSWC: Removing channel link with ChannelID(44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee)
2017-09-13 20:19:38.957 [WRN] PEER: unable remove channel link with ChannelPoint(44b095b0b9d282acf2f5e43b89d65a43f32b52c96cba4a5323b26e0aeca95fee): channel link not found
2017-09-13 20:19:38.958 [ERR] BRAR: Unable to find contract: ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0
2017-09-13 20:19:38.958 [INF] PEER: Waiting for confirmation of cooperative close of ChannelPoint(ee5fa9ec0a6eb223534aba6cc9522bf3435ad6893be4f5f2ac82d2b9b095b044:0) with txid: 4398bd9920d40edac3a2221c327bc4a62c2038b823f6669031b2ff5ffd8aceee
2017-09-13 20:19:38.958 [INF] NTFN: New confirmations subscription: txid=4398bd9920d40edac3a2221c327bc4a62c2038b823f6669031b2ff5ffd8aceee, numconfs=1
2017-09-13 20:19:38.958 [INF] NTFN: Attempting to trigger dispatch for 4398bd9920d40edac3a2221c327bc4a62c2038b823f6669031b2ff5ffd8aceee from historical chain
2017-09-13 20:19:38.960 [WRN] NTFN: unable to query for txid(4398bd9920d40edac3a2221c327bc4a62c2038b823f6669031b2ff5ffd8aceee): <nil>
2017-09-13 20:19:38.968 [INF] CRTR: Pruning channel graph using block 2c23d71ccc495c4efa0154fd8ac84dd1be8fe880d92940e3335e49227da2dc4e (height=423)
2017-09-13 20:19:38.968 [INF] LTND: Received shutdown request.
2017-09-13 20:19:38.968 [INF] LTND: Shutting down...
2017-09-13 20:19:38.968 [INF] LTND: Gracefully shutting down the server...
2017-09-13 20:19:38.968 [INF] FNDG: Funding manager shutting down
2017-09-13 20:19:38.968 [ERR] NTFN: Unable to get block: the client has been shutdown
2017-09-13 20:19:38.968 [INF] CRTR: Channel Router shutting down
2017-09-13 20:19:38.968 [INF] CRTR: FilteredChainView stopping
2017-09-13 20:19:38.969 [INF] CRTR: Block 2c23d71ccc495c4efa0154fd8ac84dd1be8fe880d92940e3335e49227da2dc4e (height=423) closed 1 channels
2017-09-13 20:19:38.969 [INF] HSWC: HLTC Switch shutting down
2017-09-13 20:19:38.969 [INF] UTXN: UTXO nursery shutting down
2017-09-13 20:19:38.969 [INF] BRAR: Breach arbiter shutting down
2017-09-13 20:19:38.969 [INF] DISC: Authenticated Gossiper is stopping
2017-09-13 20:19:38.969 [INF] SRVR: Disconnecting from 127.0.0.1:45320
2017-09-13 20:19:38.969 [INF] PEER: unable to read message from 127.0.0.1:45320: read tcp 127.0.0.1:19569->127.0.0.1:45320: use of closed network connection
2017-09-13 20:19:38.969 [INF] SRVR: Disconnecting from 127.0.0.1:45322
2017-09-13 20:19:38.969 [INF] PEER: unable to read message from 127.0.0.1:45322: read tcp 127.0.0.1:19569->127.0.0.1:45322: use of closed network connection
2017-09-13 20:19:38.969 [INF] LTND: Shutdown complete
