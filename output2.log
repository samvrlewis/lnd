2017-09-13 20:17:40.685 [WRN] LTND: read /tmp/lndtest-data904377079: is a directory
2017-09-13 20:17:40.685 [INF] LTND: Version 0.3.0-alpha
2017-09-13 20:17:40.685 [INF] CHDB: Checking for schema update: latest_version=0, db_version=0
2017-09-13 20:17:40.686 [INF] LTND: Primary chain is set to: bitcoin
2017-09-13 20:17:44.611 [INF] LNWL: Opened wallet
2017-09-13 20:17:45.989 [INF] LNWL: The wallet has been unlocked without a time limit
2017-09-13 20:17:45.989 [INF] LNWL: Catching up block hashes to height 366, this will take a while...
2017-09-13 20:17:45.990 [INF] LTND: LightningWallet opened
2017-09-13 20:17:45.991 [INF] RPCS: Generating TLS certificates...
2017-09-13 20:17:46.066 [INF] LNWL: Done catching up block hashes
2017-09-13 20:17:46.066 [INF] LNWL: Started rescan from block 0be769ee5d30c28191e705b20893d29e70996b905a2ce49ce4ddef0342e28a2f (height 366) for 0 addresses
2017-09-13 20:17:46.067 [INF] LNWL: Finished rescan for 0 addresses (synced to block 0be769ee5d30c28191e705b20893d29e70996b905a2ce49ce4ddef0342e28a2f, height 366)
2017-09-13 20:17:46.067 [INF] LNWL: Catching up block hashes to height 366, this might take a while
2017-09-13 20:17:46.067 [INF] LNWL: Done catching up block hashes
2017-09-13 20:17:51.577 [INF] RPCS: Done generating TLS certificates
2017-09-13 20:17:51.579 [INF] RPCS: RPC server listening on 127.0.0.1:19560
2017-09-13 20:17:51.579 [ERR] LTND: gRPC proxy unable to listen on localhost:8080
2017-09-13 20:17:51.635 [INF] HSWC: Starting HTLC Switch
2017-09-13 20:17:51.635 [INF] NTFN: New block epoch subscription
2017-09-13 20:17:51.635 [INF] DISC: Authenticated Gossiper is starting
2017-09-13 20:17:51.635 [INF] NTFN: New block epoch subscription
2017-09-13 20:17:51.636 [INF] CRTR: FilteredChainView starting
2017-09-13 20:17:51.705 [INF] CRTR: Prune tip for Channel Graph: height=0, hash=<nil>
2017-09-13 20:17:51.705 [INF] CRTR: Filtering chain using 0 channels active
2017-09-13 20:17:51.705 [INF] SRVR: Auto peer bootstrapping is disabled
2017-09-13 20:17:51.705 [INF] CMGR: Server listening on [::]:19559
2017-09-13 20:17:51.707 [INF] SRVR: New inbound connection from 127.0.0.1:34380
2017-09-13 20:17:51.708 [INF] DISC: Syncing channel graph state with 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2, sending 1 vertexes and 0 edges
2017-09-13 20:17:51.708 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.717 [INF] FNDG: Recv'd fundingRequest(amt=0.16777216 BTC, push=0 mSAT, delay=4, pendingId=245f49dac8d30a63b408ef65b1204e774ab7d144e2c4f0070e9ddde179be5553) from peer(030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2)
2017-09-13 20:17:51.720 [INF] FNDG: Requiring 1 confirmations for pendingChan(245f49dac8d30a63b408ef65b1204e774ab7d144e2c4f0070e9ddde179be5553): amt=0.16777216 BTC, push_amt=0 mSAT
2017-09-13 20:17:51.720 [INF] FNDG: Sending fundingResp for pendingID(245f49dac8d30a63b408ef65b1204e774ab7d144e2c4f0070e9ddde179be5553)
2017-09-13 20:17:51.720 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.724 [INF] FNDG: completing pendingID(245f49dac8d30a63b408ef65b1204e774ab7d144e2c4f0070e9ddde179be5553) with ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0)
2017-09-13 20:17:51.727 [INF] FNDG: sending signComplete for pendingID(245f49dac8d30a63b408ef65b1204e774ab7d144e2c4f0070e9ddde179be5553) over ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0)
2017-09-13 20:17:51.727 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.727 [INF] NTFN: New block epoch subscription
2017-09-13 20:17:51.727 [INF] NTFN: New confirmations subscription: txid=91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9, numconfs=1
2017-09-13 20:17:51.727 [INF] FNDG: Waiting for funding tx (91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9) to reach 1 confirmations
2017-09-13 20:17:51.727 [INF] NTFN: Attempting to trigger dispatch for 91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9 from historical chain
2017-09-13 20:17:51.738 [INF] CRTR: Pruning channel graph using block 50119daad7edb3a55da3935ac045578ffc8a1fff4b4817bf165094e42e0e42b2 (height=367)
2017-09-13 20:17:51.738 [INF] NTFN: New block: height=367, sha=50119daad7edb3a55da3935ac045578ffc8a1fff4b4817bf165094e42e0e42b2
2017-09-13 20:17:51.738 [INF] CRTR: Block 50119daad7edb3a55da3935ac045578ffc8a1fff4b4817bf165094e42e0e42b2 (height=367) closed 0 channels
2017-09-13 20:17:51.738 [INF] NTFN: Dispatching single conf notification, sha=91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9, height=367
2017-09-13 20:17:51.738 [INF] FNDG: ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) is now active: ChannelID(d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391)
2017-09-13 20:17:51.739 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.739 [INF] FNDG: Announcing ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0), short_chan_id=(*lnwire.ShortChannelID)(0xc420014ad0)({
 BlockHeight: (uint32) 367,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
})

2017-09-13 20:17:51.742 [INF] CRTR: New channel discovered! Link connects 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2 and 03e584479968508318db9ffd7397a40617355e99e2717e7fc33f266e4baa00bcce with ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0): chan_id=403520767459328, capacity=0.16777216 BTC
2017-09-13 20:17:51.743 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc420554660)({
 Signature: (*btcec.Signature)(0xc4205b0160)({
  R: (*big.Int)(0xc42055c880)(74969946096299720273906204932579738788156873565286205207249461163385696610441),
  S: (*big.Int)(0xc42055c8e0)(45689635189212541551764728496283243039736350504494938934453004674056833852791)
 }),
 ChannelID: (uint64) 403520767459328,
 LastUpdate: (time.Time) 2017-09-13 20:17:51 +1000 AEST,
 Flags: (uint16) 1,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:17:51.743 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc4201806c0)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 367,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc4205b0170)({
  R: (*big.Int)(0xc42055c960)(89794019101300856611935301370330906493529083147345682868198799154288090594354),
  S: (*big.Int)(0xc42055c9c0)(43659739924855389261010949694620248595860413837247602236576470503882998401059)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc4205b0180)({
  R: (*big.Int)(0xc42055caa0)(114573744105317205092514917644957797833954339357699507086488805546148253460008),
  S: (*big.Int)(0xc42055cb00)(6597377741687835452681155514133371056275834163346419119429897353624816165459)
 })
})

2017-09-13 20:17:51.754 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.754 [INF] DISC: Sent channel announcement proof for short_chan_id=403520767459328 to remote peer: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:51.754 [INF] DISC: 1/2 of channel ann proof received for short_chan_id=403520767459328, waiting for other half
2017-09-13 20:17:51.754 [INF] CRTR: Updated vertex data for node=03e584479968508318db9ffd7397a40617355e99e2717e7fc33f266e4baa00bcce
2017-09-13 20:17:51.755 [INF] NTFN: Cancelling epoch notification, epoch_id=3
2017-09-13 20:17:51.755 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc4202cac00)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 367,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc420306270)({
  R: (*big.Int)(0xc4204cf820)(1731337088762478350903239658399511732806450237816738235430505833680721372164),
  S: (*big.Int)(0xc4204cf840)(13255515950362446697997550370583316873087572602718888540842317956307703404165)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc420306280)({
  R: (*big.Int)(0xc4204cf860)(47131108967694061094028430722395689977095927152707127423955721856897652751181),
  S: (*big.Int)(0xc4204cf880)(48423409032610620687905531306456509063689187604643467038629893769364579007045)
 })
})

2017-09-13 20:17:51.755 [INF] NTFN: New spend subscription: utxo=91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0
2017-09-13 20:17:51.756 [INF] PEER: New channel active ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) with peerId(1)
2017-09-13 20:17:51.756 [INF] LNWL: Close observer for ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) active
2017-09-13 20:17:51.756 [INF] NTFN: New block epoch subscription
2017-09-13 20:17:51.756 [INF] HSWC: ChannelLink(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) is starting
2017-09-13 20:17:51.756 [INF] HSWC: HTLC manager for ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) started, bandwidth=0 mSAT
2017-09-13 20:17:51.756 [INF] HSWC: Added channel link with chan_id=d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391, short_chan_id=((lnwire.ShortChannelID) {
 BlockHeight: (uint32) 367,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
}
), bandwidth=0 mSAT
2017-09-13 20:17:51.768 [INF] DISC: Fully valid channel proof for short_chan_id=403520767459328 constructed, adding to next ann batch
2017-09-13 20:17:51.936 [INF] DISC: Broadcasting batch of 3 new announcements
2017-09-13 20:17:52.016 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc42019b440)({
 Signature: (*btcec.Signature)(0xc4203064b0)({
  R: (*big.Int)(0xc4201a1060)(101789257292844017005298822499414222921228633205583096590515019417509413969146),
  S: (*big.Int)(0xc4201a1080)(42745764698852428621645083292670487254103053938828116919831564832382200737917)
 }),
 ChannelID: (uint64) 403520767459328,
 LastUpdate: (time.Time) 2017-09-13 20:17:51 +1000 AEST,
 Flags: (uint16) 0,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:17:52.016 [INF] CRTR: Updated vertex data for node=030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:17:52.088 [INF] PEER: Delivery addr for channel close: sb1q9adz796j4r7zmrt0eln95g9g5ch5gehp6vdm2l
2017-09-13 20:17:52.088 [INF] HSWC: Removing channel link with ChannelID(d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391)
2017-09-13 20:17:52.088 [INF] HSWC: ChannelLink(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) is stopping
2017-09-13 20:17:52.088 [INF] HSWC: ChannelLink(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) has exited
2017-09-13 20:17:52.088 [INF] NTFN: Cancelling epoch notification, epoch_id=4
2017-09-13 20:17:52.090 [INF] NTFN: Cancelling spend notification for out_point=91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0, spend_id=1
2017-09-13 20:17:52.090 [INF] PEER: Broadcasting cooperative close tx: (*wire.MsgTx)(0xc420180140)({
 Version: (int32) 2,
 TxIn: ([]*wire.TxIn) (len=1 cap=15) {
  (*wire.TxIn)(0xc420554c00)({
   PreviousOutPoint: (wire.OutPoint) 91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0,
   SignatureScript: ([]uint8) <nil>,
   Witness: (wire.TxWitness) (len=4 cap=4) {
    ([]uint8) <nil>,
    ([]uint8) (len=72 cap=144) {
     00000000  30 45 02 21 00 9d a7 06  a4 79 d4 74 5f 7f 75 d4  |0E.!.....y.t_.u.|
     00000010  5e b3 1c 3d e7 df e0 01  8c 97 ce 31 a1 9a 31 c7  |^..=.......1..1.|
     00000020  28 48 24 ef 88 02 20 04  78 81 d9 47 74 66 a1 37  |(H$... .x..Gtf.7|
     00000030  57 35 9c d6 91 35 33 e2  22 77 ff 91 14 3e e6 ed  |W5...53."w...>..|
     00000040  46 9b 11 8c 1a 8c 8d 01                           |F.......|
    },
    ([]uint8) (len=71 cap=144) {
     00000000  30 44 02 20 5e 97 30 8e  25 85 44 c9 3c 26 a0 33  |0D. ^.0.%.D.<&.3|
     00000010  a5 4f 6c 52 8d 71 3f 81  48 17 71 7a b1 db 49 0a  |.OlR.q?.H.qz..I.|
     00000020  a2 36 0a 9d 02 20 67 89  b6 2e be 5b db 52 0a 70  |.6... g....[.R.p|
     00000030  09 de f1 08 e7 e9 8f 0b  e8 d1 26 c6 73 8d c2 b5  |..........&.s...|
     00000040  eb 52 f0 39 b3 27 01                              |.R.9.'.|
    },
    ([]uint8) (len=71 cap=500) {
     00000000  52 21 02 c8 75 84 87 ba  24 0a 1d f8 1e 9d 0f a7  |R!..u...$.......|
     00000010  bc 9b 71 c1 05 ae 29 45  33 5e e2 66 ae 81 3a 0a  |..q...)E3^.f..:.|
     00000020  7b b6 b1 21 03 19 30 7a  1e 2e f8 09 54 66 f4 e0  |{..!..0z....Tf..|
     00000030  2e cb c3 c2 f5 75 6e a1  f3 1e 24 d1 71 6b f5 17  |.....un...$.qk..|
     00000040  48 01 25 b2 7f 52 ae                              |H.%..R.|
    }
   },
   Sequence: (uint32) 4294967295
  })
 },
 TxOut: ([]*wire.TxOut) (len=1 cap=15) {
  (*wire.TxOut)(0xc4201a0080)({
   Value: (int64) 16759840,
   PkScript: ([]uint8) (len=22 cap=34) {
    00000000  00 14 b3 2f d2 e5 39 63  63 c4 ac de 53 eb 67 0e  |.../..9cc...S.g.|
    00000010  cf 1b 03 c0 92 2b                                 |.....+|
   }
  })
 },
 LockTime: (uint32) 0
})

2017-09-13 20:17:52.092 [INF] PEER: channel close tx from ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0)  already exist, probably broadcasted by peer: -22: TX rejected: already have transaction 27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182
2017-09-13 20:17:52.092 [INF] HSWC: Removing channel link with ChannelID(d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391)
2017-09-13 20:17:52.092 [WRN] PEER: unable remove channel link with ChannelPoint(d9bf78b53e0260953e3ef7c5fcd0092bcbc652ea128479429e9e9373d45e0391): channel link not found
2017-09-13 20:17:52.092 [ERR] BRAR: Unable to find contract: 91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0
2017-09-13 20:17:52.093 [INF] PEER: Waiting for confirmation of cooperative close of ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) with txid: 27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182
2017-09-13 20:17:52.093 [INF] NTFN: New confirmations subscription: txid=27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182, numconfs=1
2017-09-13 20:17:52.093 [INF] NTFN: Attempting to trigger dispatch for 27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182 from historical chain
2017-09-13 20:17:52.099 [WRN] NTFN: unable to query for txid(27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182): <nil>
2017-09-13 20:17:52.105 [INF] CRTR: Pruning channel graph using block 6b15e1a22ec48fd56375979b27fb5419bb1ddc24229f48dd8ac83a56612dba11 (height=368)
2017-09-13 20:17:52.106 [INF] CRTR: Block 6b15e1a22ec48fd56375979b27fb5419bb1ddc24229f48dd8ac83a56612dba11 (height=368) closed 1 channels
2017-09-13 20:17:52.107 [INF] NTFN: New block: height=368, sha=6b15e1a22ec48fd56375979b27fb5419bb1ddc24229f48dd8ac83a56612dba11
2017-09-13 20:17:52.107 [INF] NTFN: Dispatching single conf notification, sha=27d48138630718adbf50be9edc477e782b7e48208cafd0c964b0c24c117ea182, height=368
2017-09-13 20:17:52.107 [INF] LTND: Received shutdown request.
2017-09-13 20:17:52.108 [INF] LTND: Shutting down...
2017-09-13 20:17:52.108 [INF] LTND: Gracefully shutting down the server...
2017-09-13 20:17:52.108 [INF] PEER: ChannelPoint(91035ed473939e9e42798412ea52c6cb2b09d0fcc5f73e3e9560023eb578bfd9:0) is now closed at height 368
2017-09-13 20:17:52.108 [INF] FNDG: Funding manager shutting down
2017-09-13 20:17:52.108 [INF] CRTR: Channel Router shutting down
2017-09-13 20:17:52.108 [INF] CRTR: FilteredChainView stopping
2017-09-13 20:17:52.108 [INF] HSWC: HLTC Switch shutting down
2017-09-13 20:17:52.108 [INF] UTXN: UTXO nursery shutting down
2017-09-13 20:17:52.108 [INF] BRAR: Breach arbiter shutting down
2017-09-13 20:17:52.108 [INF] DISC: Authenticated Gossiper is stopping
2017-09-13 20:17:52.108 [INF] SRVR: Disconnecting from 127.0.0.1:34380
2017-09-13 20:17:52.109 [INF] PEER: unable to read message from 127.0.0.1:34380: read tcp 127.0.0.1:19559->127.0.0.1:34380: use of closed network connection
2017-09-13 20:17:52.109 [INF] LTND: Shutdown complete
