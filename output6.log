2017-09-13 20:19:00.766 [WRN] LTND: read /tmp/lndtest-data585527679: is a directory
2017-09-13 20:19:00.766 [INF] LTND: Version 0.3.0-alpha
2017-09-13 20:19:00.766 [INF] CHDB: Checking for schema update: latest_version=0, db_version=0
2017-09-13 20:19:00.767 [INF] LTND: Primary chain is set to: bitcoin
2017-09-13 20:19:04.634 [INF] LNWL: Opened wallet
2017-09-13 20:19:06.018 [INF] LNWL: The wallet has been unlocked without a time limit
2017-09-13 20:19:06.019 [INF] LNWL: Catching up block hashes to height 413, this will take a while...
2017-09-13 20:19:06.019 [INF] LTND: LightningWallet opened
2017-09-13 20:19:06.020 [INF] RPCS: Generating TLS certificates...
2017-09-13 20:19:06.097 [INF] LNWL: Done catching up block hashes
2017-09-13 20:19:06.097 [INF] LNWL: Started rescan from block 352f84c63456a3259a7cf4d609d8793b4f9140526f3cc851702875f71353dc71 (height 413) for 0 addresses
2017-09-13 20:19:06.100 [INF] LNWL: Finished rescan for 0 addresses (synced to block 352f84c63456a3259a7cf4d609d8793b4f9140526f3cc851702875f71353dc71, height 413)
2017-09-13 20:19:06.101 [INF] LNWL: Catching up block hashes to height 413, this might take a while
2017-09-13 20:19:06.101 [INF] LNWL: Done catching up block hashes
2017-09-13 20:19:15.332 [INF] RPCS: Done generating TLS certificates
2017-09-13 20:19:15.335 [INF] RPCS: RPC server listening on 127.0.0.1:19568
2017-09-13 20:19:15.336 [ERR] LTND: gRPC proxy unable to listen on localhost:8080
2017-09-13 20:19:15.405 [INF] HSWC: Starting HTLC Switch
2017-09-13 20:19:15.405 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:15.405 [INF] DISC: Authenticated Gossiper is starting
2017-09-13 20:19:15.405 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:15.405 [INF] CRTR: FilteredChainView starting
2017-09-13 20:19:15.460 [INF] CRTR: Prune tip for Channel Graph: height=0, hash=<nil>
2017-09-13 20:19:15.460 [INF] CRTR: Filtering chain using 0 channels active
2017-09-13 20:19:15.460 [INF] SRVR: Auto peer bootstrapping is disabled
2017-09-13 20:19:15.460 [INF] CMGR: Server listening on [::]:19567
2017-09-13 20:19:15.462 [INF] SRVR: New inbound connection from 127.0.0.1:49898
2017-09-13 20:19:15.463 [INF] DISC: Syncing channel graph state with 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2, sending 1 vertexes and 0 edges
2017-09-13 20:19:15.463 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.472 [INF] CRTR: New channel discovered! Link connects 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2 and 03678ca637909310e8848c4f3c0c79cf53d9b55ade75a453e912ea333f7a8ce5a5 with ChannelPoint(5419c52ffd944e106134d80ff9a998f993c96615e7ad599afd840215648c2a35:1): chan_id=454098302337025, capacity=0.16777216 BTC
2017-09-13 20:19:15.473 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc420064f00)({
 Signature: (*btcec.Signature)(0xc4201b0510)({
  R: (*big.Int)(0xc42067d640)(82672072593183072744386862368586151721485531932382128008043157791336587913083),
  S: (*big.Int)(0xc42067d660)(46001619351400681914537951553230147843857196607695954035317657809851368640530)
 }),
 ChannelID: (uint64) 454098302337025,
 LastUpdate: (time.Time) 2017-09-13 20:19:00 +1000 AEST,
 Flags: (uint16) 0,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:15.475 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc4200650e0)({
 Signature: (*btcec.Signature)(0xc420047f80)({
  R: (*big.Int)(0xc420160680)(81756079951119403911332034606385145112716342344304656943057602108283909570481),
  S: (*big.Int)(0xc4201606a0)(52606959806547870296707715183815571469637309581718892208671811167417110695162)
 }),
 ChannelID: (uint64) 454098302337025,
 LastUpdate: (time.Time) 2017-09-13 20:19:00 +1000 AEST,
 Flags: (uint16) 1,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:15.476 [INF] CRTR: Updated vertex data for node=030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.478 [INF] CRTR: Updated vertex data for node=03678ca637909310e8848c4f3c0c79cf53d9b55ade75a453e912ea333f7a8ce5a5
2017-09-13 20:19:15.486 [INF] FNDG: Recv'd fundingRequest(amt=0.16777216 BTC, push=0 mSAT, delay=4, pendingId=e65a9f4a39cf2a09c6fd27a6681fc7931e0ff9656c89cab7ebc1adabd61eb9c6) from peer(030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2)
2017-09-13 20:19:15.488 [INF] FNDG: Requiring 1 confirmations for pendingChan(e65a9f4a39cf2a09c6fd27a6681fc7931e0ff9656c89cab7ebc1adabd61eb9c6): amt=0.16777216 BTC, push_amt=0 mSAT
2017-09-13 20:19:15.488 [INF] FNDG: Sending fundingResp for pendingID(e65a9f4a39cf2a09c6fd27a6681fc7931e0ff9656c89cab7ebc1adabd61eb9c6)
2017-09-13 20:19:15.488 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.493 [INF] FNDG: completing pendingID(e65a9f4a39cf2a09c6fd27a6681fc7931e0ff9656c89cab7ebc1adabd61eb9c6) with ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0)
2017-09-13 20:19:15.496 [INF] FNDG: sending signComplete for pendingID(e65a9f4a39cf2a09c6fd27a6681fc7931e0ff9656c89cab7ebc1adabd61eb9c6) over ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0)
2017-09-13 20:19:15.496 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.497 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:15.497 [INF] NTFN: New confirmations subscription: txid=998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d, numconfs=1
2017-09-13 20:19:15.497 [INF] NTFN: Attempting to trigger dispatch for 998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d from historical chain
2017-09-13 20:19:15.497 [INF] FNDG: Waiting for funding tx (998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d) to reach 1 confirmations
2017-09-13 20:19:15.512 [INF] CRTR: Pruning channel graph using block 58cf632fafa1ec32fe5f14bce5a37a53e5c6fb53cb35407198f4eaa4ccf7ed6f (height=414)
2017-09-13 20:19:15.512 [INF] CRTR: Block 58cf632fafa1ec32fe5f14bce5a37a53e5c6fb53cb35407198f4eaa4ccf7ed6f (height=414) closed 0 channels
2017-09-13 20:19:15.512 [INF] NTFN: New block: height=414, sha=58cf632fafa1ec32fe5f14bce5a37a53e5c6fb53cb35407198f4eaa4ccf7ed6f
2017-09-13 20:19:15.512 [INF] NTFN: Dispatching single conf notification, sha=998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d, height=414
2017-09-13 20:19:15.512 [INF] FNDG: ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) is now active: ChannelID(1d36691f39046ac45d9576e1920ea964c3bfd456d41f60ae865d9ab9bdbb8e99)
2017-09-13 20:19:15.513 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.513 [INF] FNDG: Announcing ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0), short_chan_id=(*lnwire.ShortChannelID)(0xc4200aa054)({
 BlockHeight: (uint32) 414,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
})

2017-09-13 20:19:15.515 [INF] CRTR: New channel discovered! Link connects 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2 and 03e74d5701cdafdf69a3dac971c0574512d00d4f5c458e4f96f1b3b6ac5a92310b with ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0): chan_id=455197813964800, capacity=0.16777216 BTC
2017-09-13 20:19:15.516 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc420065ce0)({
 Signature: (*btcec.Signature)(0xc420047fa0)({
  R: (*big.Int)(0xc42067c920)(25441911260400187814861728864872125434946870885308326908768223614382954935070),
  S: (*big.Int)(0xc42067c980)(38710633267085136155748691189170102656621279816434768586571817578797850119105)
 }),
 ChannelID: (uint64) 455197813964800,
 LastUpdate: (time.Time) 2017-09-13 20:19:15 +1000 AEST,
 Flags: (uint16) 1,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:15.516 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc420061000)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) 1d36691f39046ac45d9576e1920ea964c3bfd456d41f60ae865d9ab9bdbb8e99,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 414,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc420047fb0)({
  R: (*big.Int)(0xc42067ca00)(25037439407830717232810691314038005960282640434735492281534497137474426931861),
  S: (*big.Int)(0xc42067ca60)(42558234822140355248890517327495464228201763333373497287480509280330317672208)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc420047fc0)({
  R: (*big.Int)(0xc42067cb40)(10707051459651911229815402281800362418500116459806509875536616024296774510382),
  S: (*big.Int)(0xc42067cba0)(8747858446040058760566594669389443341760831602626795383797240660783808073333)
 })
})

2017-09-13 20:19:15.527 [INF] SRVR: Attempting to send msgs 1 to: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.527 [INF] DISC: Sent channel announcement proof for short_chan_id=455197813964800 to remote peer: 030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:15.527 [INF] DISC: 1/2 of channel ann proof received for short_chan_id=455197813964800, waiting for other half
2017-09-13 20:19:15.527 [INF] CRTR: Updated vertex data for node=03e74d5701cdafdf69a3dac971c0574512d00d4f5c458e4f96f1b3b6ac5a92310b
2017-09-13 20:19:15.527 [INF] NTFN: Cancelling epoch notification, epoch_id=3
2017-09-13 20:19:15.528 [INF] NTFN: New spend subscription: utxo=998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0
2017-09-13 20:19:15.529 [INF] DISC: Received new channel announcement: (*lnwire.AnnounceSignatures)(0xc4201bee00)({
 ChannelID: (lnwire.ChannelID) (len=32 cap=32) 1d36691f39046ac45d9576e1920ea964c3bfd456d41f60ae865d9ab9bdbb8e99,
 ShortChannelID: (lnwire.ShortChannelID) {
  BlockHeight: (uint32) 414,
  TxIndex: (uint32) 1,
  TxPosition: (uint16) 0
 },
 NodeSignature: (*btcec.Signature)(0xc4201b07b0)({
  R: (*big.Int)(0xc4206f7aa0)(20708092326545051579364641598302178284053519286139977869906188634771201059083),
  S: (*big.Int)(0xc4206f7ac0)(25529654954593131208315749043129955173342247716042473419403988191143857021118)
 }),
 BitcoinSignature: (*btcec.Signature)(0xc4201b07c0)({
  R: (*big.Int)(0xc4206f7ae0)(27363202992830586779707433825647012559376306585781977622857878430033268832853),
  S: (*big.Int)(0xc4206f7b00)(6240097326444780121879900498916120581677443671145919410158144294374896820998)
 })
})

2017-09-13 20:19:15.529 [INF] LNWL: Close observer for ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) active
2017-09-13 20:19:15.529 [INF] PEER: New channel active ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) with peerId(1)
2017-09-13 20:19:15.529 [INF] NTFN: New block epoch subscription
2017-09-13 20:19:15.529 [INF] HSWC: ChannelLink(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) is starting
2017-09-13 20:19:15.529 [INF] HSWC: HTLC manager for ChannelPoint(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) started, bandwidth=0 mSAT
2017-09-13 20:19:15.529 [INF] HSWC: Added channel link with chan_id=1d36691f39046ac45d9576e1920ea964c3bfd456d41f60ae865d9ab9bdbb8e99, short_chan_id=((lnwire.ShortChannelID) {
 BlockHeight: (uint32) 414,
 TxIndex: (uint32) 1,
 TxPosition: (uint16) 0
}
), bandwidth=0 mSAT
2017-09-13 20:19:15.542 [INF] DISC: Fully valid channel proof for short_chan_id=455197813964800 constructed, adding to next ann batch
2017-09-13 20:19:15.705 [INF] DISC: Broadcasting batch of 8 new announcements
2017-09-13 20:19:15.722 [INF] CRTR: New channel update applied: (*channeldb.ChannelEdgePolicy)(0xc4201dbb00)({
 Signature: (*btcec.Signature)(0xc4201b09a0)({
  R: (*big.Int)(0xc420161040)(8284176446020067832263115723973780470662802937416519151293954324642606044027),
  S: (*big.Int)(0xc420161060)(39788733788026371563751333840595784317866640684105413302342256533882842439985)
 }),
 ChannelID: (uint64) 455197813964800,
 LastUpdate: (time.Time) 2017-09-13 20:19:15 +1000 AEST,
 Flags: (uint16) 0,
 TimeLockDelta: (uint16) 144,
 MinHTLC: (lnwire.MilliSatoshi) 0 mSAT,
 FeeBaseMSat: (lnwire.MilliSatoshi) 1000 mSAT,
 FeeProportionalMillionths: (lnwire.MilliSatoshi) 1 mSAT,
 Node: (*channeldb.LightningNode)(<nil>),
 db: (*channeldb.DB)(<nil>)
})

2017-09-13 20:19:15.724 [INF] CRTR: Updated vertex data for node=030aa66d04686ed2775b159168451f0b2ea6604e42075591ddb22516f45d038dd2
2017-09-13 20:19:16.006 [INF] DISC: Broadcasting batch of 2 new announcements
2017-09-13 20:19:16.112 [ERR] HSWC: unable to query invoice registry:  unable to locate invoice
2017-09-13 20:19:16.258 [ERR] HSWC: Onion payload of incoming htlc(f7ee27068e231fa0d8989bb84d2d4f65e49f4c37d742c21ba18142c5b2bdca28) has incorrect value: expected 10000000 mSAT, got 1000000 mSAT
2017-09-13 20:19:16.362 [INF] LTND: Payment received: (*channeldb.Invoice)(0xc420450600)({
 Memo: ([]uint8) {
 },
 Receipt: ([]uint8) {
 },
 CreationDate: (time.Time) 2017-09-13 20:19:16.307192739 +1000 AEST,
 Terms: (channeldb.ContractTerm) {
  PaymentPreimage: ([32]uint8) (len=32 cap=32) {
   00000000  89 dd e0 75 92 1c df 99  d4 8f e0 0c 2e ef bd f3  |...u............|
   00000010  f4 44 36 00 32 8b 95 e7  05 1b c4 aa 51 f6 9f 16  |.D6.2.......Q...|
  },
  Value: (lnwire.MilliSatoshi) 4294967000 mSAT,
  Settled: (bool) true
 }
})

2017-09-13 20:19:16.411 [INF] LTND: Payment received: (*channeldb.Invoice)(0xc420450800)({
 Memo: ([]uint8) {
 },
 Receipt: ([]uint8) {
 },
 CreationDate: (time.Time) 2017-09-13 20:19:16.380092533 +1000 AEST,
 Terms: (channeldb.ContractTerm) {
  PaymentPreimage: ([32]uint8) (len=32 cap=32) {
   00000000  fa 1a c3 8d 38 2f 7c 8d  be df 71 04 96 87 98 9f  |....8/|...q.....|
   00000010  8e 93 7e 14 e2 4a 8b f1  fe fd 7f f6 42 31 c2 ff  |..~..J......B1..|
  },
  Value: (lnwire.MilliSatoshi) 4294967000 mSAT,
  Settled: (bool) true
 }
})

2017-09-13 20:19:16.462 [INF] LTND: Payment received: (*channeldb.Invoice)(0xc4202ca800)({
 Memo: ([]uint8) {
 },
 Receipt: ([]uint8) {
 },
 CreationDate: (time.Time) 2017-09-13 20:19:16.431298032 +1000 AEST,
 Terms: (channeldb.ContractTerm) {
  PaymentPreimage: ([32]uint8) (len=32 cap=32) {
   00000000  4d 9d 0a d2 59 d5 d4 5d  4f e9 a4 a0 7a ed d8 9b  |M...Y..]O...z...|
   00000010  f1 9f 58 32 ea b8 32 b7  7a 92 4f b1 fd dd c1 40  |..X2..2.z.O....@|
  },
  Value: (lnwire.MilliSatoshi) 4294967000 mSAT,
  Settled: (bool) true
 }
})

2017-09-13 20:19:16.508 [INF] LTND: Payment received: (*channeldb.Invoice)(0xc420450600)({
 Memo: ([]uint8) {
 },
 Receipt: ([]uint8) {
 },
 CreationDate: (time.Time) 2017-09-13 20:19:16.48173891 +1000 AEST,
 Terms: (channeldb.ContractTerm) {
  PaymentPreimage: ([32]uint8) (len=32 cap=32) {
   00000000  ee 68 30 44 3d 36 47 68  e2 64 14 8c 56 68 ae c5  |.h0D=6Gh.d..Vh..|
   00000010  7b c9 ca 67 a8 e4 fe 45  7d 4a 2e 48 c2 24 5d 67  |{..g...E}J.H.$]g|
  },
  Value: (lnwire.MilliSatoshi) 3882315000 mSAT,
  Settled: (bool) true
 }
})

2017-09-13 20:19:16.567 [INF] LTND: Received shutdown request.
2017-09-13 20:19:16.567 [INF] LTND: Shutting down...
2017-09-13 20:19:16.567 [INF] LTND: Gracefully shutting down the server...
2017-09-13 20:19:16.567 [INF] FNDG: Funding manager shutting down
2017-09-13 20:19:16.567 [INF] CRTR: Channel Router shutting down
2017-09-13 20:19:16.567 [INF] CRTR: FilteredChainView stopping
2017-09-13 20:19:16.567 [INF] HSWC: HLTC Switch shutting down
2017-09-13 20:19:16.567 [INF] HSWC: Removing channel link with ChannelID(1d36691f39046ac45d9576e1920ea964c3bfd456d41f60ae865d9ab9bdbb8e99)
2017-09-13 20:19:16.567 [INF] UTXN: UTXO nursery shutting down
2017-09-13 20:19:16.567 [INF] HSWC: ChannelLink(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) has exited
2017-09-13 20:19:16.567 [INF] BRAR: Breach arbiter shutting down
2017-09-13 20:19:16.567 [INF] DISC: Authenticated Gossiper is stopping
2017-09-13 20:19:16.567 [INF] HSWC: ChannelLink(998ebbbdb99a5d86ae601fd456d4bfc364a90e92e176955dc46a04391f69361d:0) is stopping
2017-09-13 20:19:16.567 [INF] SRVR: Disconnecting from 127.0.0.1:49898
2017-09-13 20:19:16.567 [INF] PEER: unable to read message from 127.0.0.1:49898: read tcp 127.0.0.1:19567->127.0.0.1:49898: use of closed network connection
2017-09-13 20:19:16.567 [INF] LTND: Shutdown complete
